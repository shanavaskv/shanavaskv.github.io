<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="pingback" href="/xmlrpc.php"/>
	<title>Remote Desktop with VNC &#8211; Shanavas</title>
<link rel='dns-prefetch' href='//s0.wp.com'/>
<link rel='dns-prefetch' href='//s.gravatar.com'/>
<link rel='dns-prefetch' href='//maps.googleapis.com'/>
<link rel='dns-prefetch' href='//fonts.googleapis.com'/>
<link rel='dns-prefetch' href='//s.w.org'/>
<link rel="alternate" type="application/rss+xml" title="Shanavas &raquo; Feed" href="/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Shanavas &raquo; Comments Feed" href="/comments/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Shanavas &raquo; Remote Desktop with VNC Comments Feed" href="/remote-desktop-with-vnc/feed/"/>
		<script type="text/javascript">window._wpemojiSettings={"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script>
		<style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-.1em!important;background:none!important;padding:0!important}</style>
<link rel='stylesheet' id='contact-form-7-css' href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.5.1' type='text/css' media='all'/>
<link rel='stylesheet' id='rs-plugin-settings-css' href='/wp-content/plugins/revslider/rs-plugin/css/settings.css?ver=4.6.9' type='text/css' media='all'/>
<style id='rs-plugin-settings-inline-css' type='text/css'>.tp-caption a{color:#ff7302;text-shadow:none;-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-o-transition:all .2s ease-out;-ms-transition:all .2s ease-out}.tp-caption a:hover{color:#ffa902}</style>
<link rel='stylesheet' id='ebor-font-css' href='http://fonts.googleapis.com/css?family=Ubuntu&#038;ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-bootstrap-css' href='/wp-content/themes/frost/style/css/bootstrap.css?ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-owl-css' href='/wp-content/themes/frost/style/css/owl.carousel.css?ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-fancybox-css' href='/wp-content/themes/frost/style/js/fancybox/jquery.fancybox.css?ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-fancybox-thumbs-css' href='/wp-content/themes/frost/style/js/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.2&#038;ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-style-css' href='/wp-content/themes/frost/style.css?ver=4.6.1' type='text/css' media='all'/>
<style id='ebor-style-inline-css' type='text/css'>body{font-family:'Ubuntu, sans-serif;}input,button,select,textarea{font-family:'Ubuntu',sans-serif}.navbar-header{background:#2e2e2e}.navbar .dropdown-menu{background:#2e2e2e}.footer{background:#232323}.sub-footer{background:#1e1e1e}.light-wrapper{background:#fbfbfb}.dark-wrapper{background:#f1f1f1}.navbar-brand{background:#549dc5}.navbar-brand:hover{background:#468eb5}a,.colored,h2.post-title a:hover,ul.circled li:before,.footer a:hover{color:#549dc5}blockquote{background:#549dc5}.btn,.btn-submit,input[type="submit"]{background:#549dc5}.btn:hover,.btn:focus,.btn:active,.btn.active,input[type="submit"]:focus,input[type="submit"]:hover{background:#468eb5}.nav>li>a:hover{color:#549dc5}.nav>li.current>a{color:#549dc5}.navbar .nav .open>a,.navbar .nav .open>a:hover,.navbar .nav .open>a:focus{color:#549dc5}.navbar .dropdown-menu>li>a:hover,.navbar .dropdown-menu>li>a:focus,.navbar .dropdown-submenu:hover>a,.navbar .dropdown-submenu:focus>a,.navbar .dropdown-menu>.active>a,.navbar .dropdown-menu>.active>a:hover,.navbar .dropdown-menu>.active>a:focus{color:#549dc5}.parallax a{color:#549dc5}.share-button{border-bottom:1px solid #549dc5}.facts i{color:#549dc5}.filter li a:hover,.filter li a.active{color:#549dc5}figure a .text-overlay{background:#549dc5;background:rgba(84,157,197,.90)}.icon-overlay a .icn-more{background:#549dc5;background:rgba(84,157,197,.90)}textarea:focus,input[type="text"]:focus,input[type="password"]:focus,input[type="datetime"]:focus,input[type="datetime-local"]:focus,input[type="date"]:focus,input[type="month"]:focus,input[type="time"]:focus,input[type="week"]:focus,input[type="number"]:focus,input[type="email"]:focus,input[type="url"]:focus,input[type="search"]:focus,input[type="tel"]:focus,input[type="color"]:focus,.uneditable-input:focus{border-bottom:1px solid #549dc5}.contact-info li a:hover,.contact-info i,.progress-list li em{color:#549dc5}.progress.plain{border:1px solid #549dc5}.progress.plain .bar{background:#549dc5}.panel-title>a:hover{color:#549dc5}.tabs-top .tab a:hover,.tabs-top .tab.active a{color:#549dc5;border-color:#549dc5}.pricing .plan h4 span{color:#549dc5}.sidebox a:hover{color:#549dc5}ul.tag-list li a:hover{color:#549dc5!important;border:1px solid #549dc5}.pagination ul>li>a:hover,.pagination ul>li>a:focus,.pagination ul>.active>a,.pagination ul>.active>span{color:#549dc5!important;border:1px solid #549dc5}#comments .info h2 a:hover{color:#549dc5}#comments a.reply-link:hover{color:#549dc5}.more{border-bottom:1px solid #549dc5}.post .meta a:hover,.more:hover{color:#549dc5}.tooltip-inner{background-color:#549dc5}.tooltip.top .tooltip-arrow,.tooltip.top-left .tooltip-arrow,.tooltip.top-right .tooltip-arrow{border-top-color:#549dc5}.tooltip.right .tooltip-arrow{border-right-color:#549dc5}.tooltip.left .tooltip-arrow{border-left-color:#549dc5}.tooltip.bottom .tooltip-arrow,.tooltip.bottom-left .tooltip-arrow,.tooltip.bottom-right .tooltip-arrow{border-bottom-color:#549dc5}.tp-loader.spinner0,#fancybox-loading div{border-left:3px solid rgba(84,157,197,.15)!important;border-right:3px solid rgba(84,157,197,.15)!important;border-bottom:3px solid rgba(84,157,197,.15)!important;border-top:3px solid rgba(84,157,197,.8)!important}</style>
<link rel='stylesheet' id='ebor-fonts-css' href='/wp-content/themes/frost/style/type/fonts.css?ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='ebor-custom-css' href='/wp-content/themes/frost/custom.css?ver=4.6.1' type='text/css' media='all'/>
<link rel='stylesheet' id='social-logos-css' href='/wp-content/plugins/jetpack/_inc/social-logos/social-logos.min.css?ver=1' type='text/css' media='all'/>
<link rel='stylesheet' id='jetpack_css-css' href='/wp-content/plugins/jetpack/css/jetpack.css?ver=4.3.2' type='text/css' media='all'/>
<!-- This site uses the Google Analytics by MonsterInsights plugin v5.5.4 - Universal enabled - https://www.monsterinsights.com/ -->
<script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');__gaTracker('create','UA-82829377-1','auto');__gaTracker('set','forceSSL',true);__gaTracker('send','pageview');</script>
<!-- / Google Analytics by MonsterInsights -->
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>//<![CDATA[
var related_posts_js_options={"post_heading":"h4"};
//]]></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript' src='/wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.tools.min.js?ver=4.6.9'></script>
<script type='text/javascript' src='/wp-content/plugins/revslider/rs-plugin/js/jquery.themepunch.revolution.min.js?ver=4.6.9'></script>
<link rel='https://api.w.org/' href='/wp-json/'/>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd"/>
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml"/> 
<link rel='prev' title='SSH Tunnel' href='/ssh-tunnel/'/>
<link rel='next' title='Running Linux apps in MacOS using docker' href='/running-linux-apps-in-macos-using-docker/'/>
<meta name="generator" content="WordPress 4.6.1"/>
<link rel="canonical" href="/remote-desktop-with-vnc/"/>
<link rel='shortlink' href='http://wp.me/p7P4jx-5j'/>
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fremote-desktop-with-vnc%2F"/>
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fremote-desktop-with-vnc%2F&#038;format=xml"/>
		<script type="text/javascript">jQuery(document).ready(function(){var ajaxRevslider=function(obj){var content="";data={};data.action='revslider_ajax_call_front';data.client_action='get_slider_html';data.token='d87fb42fed';data.type=obj.type;data.id=obj.id;data.aspectratio=obj.aspectratio;jQuery.ajax({type:"post",url:"/wp-admin/admin-ajax.php",dataType:'json',data:data,async:false,success:function(ret,textStatus,XMLHttpRequest){if(ret.success==true)
content=ret.data;},error:function(e){console.log(e);}});return content;};var ajaxRemoveRevslider=function(obj){return jQuery(obj.selector+" .rev_slider").revkill();};var extendessential=setInterval(function(){if(jQuery.fn.tpessential!=undefined){clearInterval(extendessential);if(typeof(jQuery.fn.tpessential.defaults)!=='undefined'){jQuery.fn.tpessential.defaults.ajaxTypes.push({type:"revslider",func:ajaxRevslider,killfunc:ajaxRemoveRevslider,openAnimationSpeed:0.3});}}},30);});</script>
		
<link rel='dns-prefetch' href='//v0.wordpress.com'>
<link rel='dns-prefetch' href='//i0.wp.com'>
<link rel='dns-prefetch' href='//i1.wp.com'>
<link rel='dns-prefetch' href='//i2.wp.com'>
<link rel="shortcut icon" href="/wp-content/uploads/2016/08/favicon.png">		<style type="text/css">.recentcomments a{display:inline!important;padding:0!important;margin:0!important}</style>
		
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article"/>
<meta property="og:title" content="Remote Desktop with VNC"/>
<meta property="og:url" content="/remote-desktop-with-vnc/"/>
<meta property="og:description" content="I have been looking for a way to securely connect to the work PC that runs Ubuntu from my Macbook running Mavericks using remote desktop. The work PC is behind a firewall, so Open NX was suggested,…"/>
<meta property="article:published_time" content="2014-08-20T22:23:55+00:00"/>
<meta property="article:modified_time" content="2016-08-20T22:28:00+00:00"/>
<meta property="og:site_name" content="Shanavas"/>
<meta property="og:image" content="http://i0.wp.com/www.shanavasv.com/wp-content/uploads/2016/08/favicon.png?fit=16%2C16"/>
<meta property="og:image:width" content="512"/>
<meta property="og:image:height" content="512"/>
<meta property="og:locale" content="en_US"/>
<meta name="twitter:card" content="summary"/>
<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		  <!--[if lt IE 9]>
			  <script src="/wp-content/themes/frost/style/js/html5shiv.js"></script>
			  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
		  <![endif]--><link rel="icon" href="http://i0.wp.com/www.shanavasv.com/wp-content/uploads/2016/08/favicon.png?fit=16%2C16" sizes="32x32"/>
<link rel="icon" href="http://i0.wp.com/www.shanavasv.com/wp-content/uploads/2016/08/favicon.png?fit=16%2C16" sizes="192x192"/>
<link rel="apple-touch-icon-precomposed" href="http://i0.wp.com/www.shanavasv.com/wp-content/uploads/2016/08/favicon.png?fit=16%2C16"/>
<meta name="msapplication-TileImage" content="http://i0.wp.com/www.shanavasv.com/wp-content/uploads/2016/08/favicon.png?fit=16%2C16"/>
</head>

<body class="single single-post postid-329 single-format-standard">


<div class="body-wrapper">

  <div class="navbar default">
    <div class="navbar-header">
    
      <div class="container">
      
        <div class="basic-wrapper"> 
        
        	<a class="btn responsive-menu pull-right" data-toggle="collapse" data-target=".navbar-collapse">
        		<i class='icon-menu-1'></i>
        	</a> 
        	
        	<a class="navbar-brand" href="/">
        		        			<img src="/wp-content/uploads/2016/08/logo-1.png" alt="home" data-src="/wp-content/uploads/2016/08/logo-1.png" data-ret="/wp-content/uploads/2016/08/logo@2x.png" class="retina"/>
        		        	</a> 
        	
        </div>
        
        <div class="collapse navbar-collapse pull-right">
			<ul id="menu-standard-navigation" class="nav navbar-nav"><li id="menu-item-182" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-182"><a title="Home" href="/">Home</a></li>
<li id="menu-item-209" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-209 dropdown"><a title="About" href="/#about" data-toggle="dropdown" class="dropdown-toggle js-activated">About</a>
<ul role="menu" class="dropdown-menu">
	<li id="menu-item-210" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-210"><a title="Contact" href="/#contact">Contact</a></li>
</ul>
</li>
<li id="menu-item-376" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-376"><a title="Portfolio" href="/#portfolio">Portfolio</a></li>
<li id="menu-item-265" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-265"><a title="Publications" href="/home/publications/">Publications</a></li>
<li id="menu-item-207" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-has-children menu-item-207 dropdown"><a title="Blog" href="/blog/" data-toggle="dropdown" class="dropdown-toggle js-activated">Blog</a>
<ul role="menu" class="dropdown-menu">
	<li id="menu-item-312" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-312"><a title="Docker" href="/running-linux-apps-in-macos-using-docker/">Docker</a></li>
</ul>
</li>
<li class="social"><a href="http://linkedin.com/in/shanavaskv" target="_blank">
						  <i class="icon-s-linkedin"></i>
					  </a><a href="http://github.com/shanavaskv" target="_blank">
						  <i class="icon-s-github"></i>
					  </a><a href="https://www.facebook.com/shanavas.kv" target="_blank">
						  <i class="icon-s-facebook"></i>
					  </a></li></ul>        </div>
        
      </div>
    </div>
  </div>
  
  <div id="home"></div>
  
<div class="offset"></div><div class="light-wrapper"><div class="container inner">
	<div class="row">
	
		<div class="col-sm-8 content">
		
			<div class="blog-posts classic-blog">
				<div class="post">
				
										
					<div class="post-content">
					
						<h1 class="post-title">Remote Desktop with VNC</h1><div class="meta">

	<span class="date">August 20, 2014</span>
	
			<span class="categories">
			<a href="/category/technology/" rel="category tag">Technology</a>		</span>
		
	 
		<span class="comments">
			<a href="/remote-desktop-with-vnc/#respond">0 Comments</a>
		</span>
		
</div><p>I have been looking for a way to securely connect to the work PC that runs Ubuntu from my Macbook running Mavericks using remote desktop. The work PC is behind a firewall, so <a href="http://opennx.net/">Open NX</a> was suggested, but it does not play well with OS X. So I settled for VNC over an <a href="http://en.wikipedia.org/wiki/Tunneling_protocol">ssh-tunnel</a>. The goal was to access the running desktop and not a clone, so I decided to use <a href="http://www.karlrunge.com/x11vnc/">x11vnc</a> as the server. Alternatively, one can use <a href="http://www.tightvnc.com/">TightVNC</a> to access a cloned desktop. I tried various VNC clients on Mac, and liked the oddly named <a href="http://sourceforge.net/projects/chicken/">Chicken</a>. But it turns out that Apple ships a VNC client with OS X; which is not very fancy, but meets my need.</p>
<p>The Unity desktop in Ubuntu is very slow over VNC for some reason. So, the first step is to switch to <a href="/remote-desktop-with-vnc/www.xfce.org">Xfce</a> or xubuntu desktop. Also installed <code>x11vnc</code> while at it.</p>
<pre style="background: #f9f9f9; color: #080808;">sudo apt-get install xubuntu-desktop x11vnc
</pre>
<p>For security, it better not to run VNC server all the time, but rather start it when needed. This can be accomplished by the following command at the terminal from the home computer (Macbook):</p>
<pre style="background: #f9f9f9; color: #080808;">ssh -t -L 5900:localhost:5900 remote-host <span style="color: #0b6125;">'x11vnc -localhost -display :0
</span></pre>
<p>Where <code>remote-host</code> is the work PC. The above command starts <code>x11vnc</code> in the work PC and forwards the port to the home machine. One can now connect to it by typing in another terminal,</p>
<pre style="background: #f9f9f9; color: #080808;">open vnc://localhost
</pre>
<p>It is advisable to create a VNC password for the server in the <code>remote-host</code> for added security. Refer to <code>x11vnc</code> <a href="http://www.karlrunge.com/x11vnc/">web</a> or man page for instructions. The above command will stop the server once the client exists, or <code>-forever</code> can be used to keep it alive. Then it will need to be stopped by <code>CTRL-c</code>.</p>
<p>Unfortunately, this method works only if the <code>remote-host</code> is logged in. When at the lock-screen in Ubuntu, the virtual terminal runs at display <code>:1</code> (rather than at <code>:0</code>), so the <code>x11vnc</code> will have to be started with arguments <code>-auth /var/run/lightdm/root/:1</code>. But after unlocking the session, the VT falls back to <code>:0</code>, so <code>x11vnc</code> needs to be restarted with default VT. To work around this problem, I wrote the following script:</p>
<pre style="background: #f9f9f9; color: #080808;"><span style="color: #5a525f; font-style: italic;">#!/bin/bash</span>
vncpa=<span style="color: #234a97;">$HOME</span>/.vnc/passwd
vtpath=/var/run/lightdm/root
vtuser=:0
vtlock=:1
<span style="color: #794938;">while</span> [ -e <span style="color: #0b6125;">"<span style="color: #234a97;">$vtpath</span>/<span style="color: #234a97;">$vtlock</span>"</span> ]<span style="color: #794938;">;</span> <span style="color: #794938;">do</span>
   <span style="color: #693a17;">echo</span> <span style="color: #0b6125;">"screen locked"</span>
   x11vnc -localhost -rfbauth <span style="color: #234a97;">$vncpa</span> -display <span style="color: #234a97;">$vtlock</span> -auth <span style="color: #234a97;">$vtpath</span>/<span style="color: #234a97;">$vtlock</span>
   sleep 2
<span style="color: #794938;">done</span>
<span style="color: #693a17;">echo</span> <span style="color: #0b6125;">"screen unlocked"</span>
x11vnc -localhost -rfbauth <span style="color: #234a97;">$vncpa</span> -nevershared -forever -display <span style="color: #234a97;">$vtuser</span> -auth <span style="color: #234a97;">$vtpath</span>/<span style="color: #234a97;">$vtuser</span>
</pre>
<p>Saved it as <code>~/bin/x11run</code> and made it executable. Note that, access to the folder <code>/var/run/lighdtm</code> requires root privileges, so this script has to be run with <code>sudo</code>. So, to establish the tunnel, start the server and client in a single script, I use the ever-useful <code>expect</code> with ssh.</p>
<pre style="background: #f9f9f9; color: #080808;"><span style="color: #5a525f; font-style: italic;">#!/bin/bash</span>
<span style="color: #693a17;">echo</span> -n <span style="color: #0b6125;">"ID: "</span><span style="color: #794938;">;</span> <span style="color: #693a17;">read</span> paD
sleep 5 <span style="color: #794938;">&amp;&amp;</span> open vnc://localhost <span style="color: #794938;">&amp;</span>
/usr/bin/expect <span style="color: #794938;">&lt;</span><span style="color: #794938;">&lt;</span> EOF
<span style="color: #693a17;">set</span> timeout 120
spawn ssh -L 5900:localhost:5900 <span style="color: #ff0000;">remote-host</span>

expect <span style="color: #0b6125;">"<span style="color: #ff0000;">remote-host</span>:~$ "</span>
send <span style="color: #0b6125;">"sudo ~/bin/x11run\r"</span>

expect <span style="color: #0b6125;">"*for <span style="color: #ff0000;">user</span>: "</span>
send <span style="color: #0b6125;">"<span style="color: #234a97;">$paD</span>\r"</span>

expect eof
interact
EOF
</pre>
<p>With appropriate modifications to those marked in <span style="color: red;">red</span>, it should work!</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-329" class="share-twitter sd-button share-icon no-text" href="/remote-desktop-with-vnc/?share=twitter" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-329" class="share-facebook sd-button share-icon no-text" href="/remote-desktop-with-vnc/?share=facebook" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-329" class="share-google-plus-1 sd-button share-icon no-text" href="/remote-desktop-with-vnc/?share=google-plus-1" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li><li class="share-end"></li></ul></div></div></div>
<div id='jp-relatedposts' class='jp-relatedposts'>
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
</div><div class="meta tags"><a href="/tag/macos/" rel="tag">MacOS</a>, <a href="/tag/ssh/" rel="tag">ssh</a>, <a href="/tag/ubuntu/" rel="tag">Ubuntu</a>, <a href="/tag/vnc/" rel="tag">vnc</a></div>
<div class="share-links">
  <ul>
    <li><a href="http://www.facebook.com/share.php?u=/remote-desktop-with-vnc/" target="_blank" onclick="return ebor_fb_like()" class="btn share-facebook">Like</a></li>
    <li><a href="https://twitter.com/share?url=/remote-desktop-with-vnc/" target="_blank" onclick="return ebor_tweet()" class="btn share-twitter">Tweet</a></li>
    <li><a href="http://pinterest.com/pin/create/button/?url=/remote-desktop-with-vnc/" onclick="return ebor_pin()" target="_blank" class="btn share-pinterest">Pin It</a></li>
  </ul>
</div>

<script type="text/javascript">function ebor_fb_like(){window.open('http://www.facebook.com/sharer.php?u=/remote-desktop-with-vnc/&t=remote-desktop-with-vnc','sharer','toolbar=0,status=0,width=626,height=436');return false;}
function ebor_tweet(){window.open('https://twitter.com/share?url=/remote-desktop-with-vnc/&t=remote-desktop-with-vnc','sharer','toolbar=0,status=0,width=626,height=436');return false;}
function ebor_pin(){window.open('http://pinterest.com/pin/create/button/?url=/remote-desktop-with-vnc/&media=&description=remote-desktop-with-vnc','sharer','toolbar=0,status=0,width=626,height=436');return false;}</script>					
					</div>
				
				</div>
			</div><!-- /.blog-posts -->
			
			<hr/>
<div class="about-author image-caption">

  <div class="author-image">
  	<img alt='' src='http://2.gravatar.com/avatar/2b9adba2a3f632d68e06e0b4fba24d6d?s=120&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/2b9adba2a3f632d68e06e0b4fba24d6d?s=240&amp;d=mm&amp;r=g 2x' class='avatar avatar-120 photo' height='120' width='120'/>  </div>
  
  <div class="author-details vcard author">
    <h3>About the author</h3>
    <p><span class="fn">shanavas</span>: </p>
  
<ul class="social">
   </ul>  </div>
  
  <div class="clearfix"></div>
</div>
<hr/>

<div id="comments">

	<h3>0 Comments</h3>
	
	
</div><!-- /#comments -->

<hr/>

<div class="comment-form-wrapper">
	<h3>Share your thoughts?</h3>
	<p>Your email address will not be published. Required fields are marked *</p>
				<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/remote-desktop-with-vnc/#respond" style="display:none;">Cancel</a></small></h3>				<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
					<div class="message-field">
							<textarea name="comment" placeholder="Enter your comment here..." id="comment" aria-required="true"></textarea>
							</div><div class="name-field">
		    			 <input type="text" id="author" name="author" placeholder="Name *" value=""/>
		    			 </div>
<div class="email-field">
		    			 <input name="email" type="text" id="email" placeholder="Email *" value=""/>
		    			 </div>
<div class="website-field">
		    			 <input name="url" type="text" id="url" placeholder="Website" value=""/>
		    			 </div>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Submit"/> <input type='hidden' name='comment_post_ID' value='329' id='comment_post_ID'/>
<input type='hidden' name='comment_parent' id='comment_parent' value='0'/>
</p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_comments" id="subscribe_comments" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"/> <label class="subscribe-label" id="subscribe-label" for="subscribe_comments">Notify me of follow-up comments by email.</label></p><p class="comment-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto; -moz-appearance: checkbox; -webkit-appearance: checkbox;"/> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog">Notify me of new posts by email.</label></p>				</form>
					</div><!-- #respond -->
		</div><!-- /.comment-form-wrapper --> 		
		</div><!-- /.content -->
		
		<aside class="col-sm-4 sidebar lp30">
	<div id="search-2" class="sidebox widget widget_search"><form class="searchform" method="get" id="searchform" action="/">
  <input type="text" id="s2" name="s" value="type and hit enter" onfocus="this.value=''" onblur="this.value='type and hit enter'"/>
</form></div>		<div id="recent-posts-2" class="sidebox widget widget_recent_entries">		<div class="section-title"><h3 class="widget-title">Recent Posts</h3></div>		<ul>
					<li>
				<a href="/running-linux-apps-in-macos-using-docker/">Running Linux apps in MacOS using docker</a>
						</li>
					<li>
				<a href="/remote-desktop-with-vnc/">Remote Desktop with VNC</a>
						</li>
					<li>
				<a href="/ssh-tunnel/">SSH Tunnel</a>
						</li>
					<li>
				<a href="/compile-vasp-on-osx/">Compile VASP on OSX</a>
						</li>
					<li>
				<a href="/bibtex-from-doi/">BibteX from DOI</a>
						</li>
				</ul>
		</div>		<div id="recent-comments-2" class="sidebox widget widget_recent_comments"><div class="section-title"><h3 class="widget-title">Recent Comments</h3></div><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link">Jason Lee</span> on <a href="/running-linux-apps-in-macos-using-docker/#comment-3">Running Linux apps in MacOS using docker</a></li></ul></div><div id="archives-2" class="sidebox widget widget_archive"><div class="section-title"><h3 class="widget-title">Archives</h3></div>		<ul>
			<li><a href='/2016/08/'>August 2016</a></li>
	<li><a href='/2014/08/'>August 2014</a></li>
	<li><a href='/2014/07/'>July 2014</a></li>
	<li><a href='/2014/04/'>April 2014</a></li>
	<li><a href='/2014/03/'>March 2014</a></li>
		</ul>
		</div><div id="categories-2" class="sidebox widget widget_categories"><div class="section-title"><h3 class="widget-title">Categories</h3></div>		<ul>
	<li class="cat-item cat-item-24"><a href="/category/research/">Research</a>
</li>
	<li class="cat-item cat-item-16"><a href="/category/technology/">Technology</a>
</li>
	<li class="cat-item cat-item-1"><a href="/category/uncategorized/">Uncategorized</a>
</li>
		</ul>
</div><div id="tag_cloud-2" class="sidebox widget widget_tag_cloud"><div class="section-title"><h3 class="widget-title">Tags</h3></div><div class="tagcloud"><a href='/tag/bibtex/' class='tag-link-25 tag-link-position-1' title='1 topic' style='font-size: 8pt;'>bibtex</a>
<a href='/tag/docker/' class='tag-link-17 tag-link-position-2' title='1 topic' style='font-size: 8pt;'>docker</a>
<a href='/tag/doi/' class='tag-link-26 tag-link-position-3' title='1 topic' style='font-size: 8pt;'>doi</a>
<a href='/tag/gimp/' class='tag-link-19 tag-link-position-4' title='1 topic' style='font-size: 8pt;'>gimp</a>
<a href='/tag/inkscape/' class='tag-link-20 tag-link-position-5' title='1 topic' style='font-size: 8pt;'>inkscape</a>
<a href='/tag/macos/' class='tag-link-18 tag-link-position-6' title='2 topics' style='font-size: 22pt;'>MacOS</a>
<a href='/tag/ssh/' class='tag-link-21 tag-link-position-7' title='2 topics' style='font-size: 22pt;'>ssh</a>
<a href='/tag/ubuntu/' class='tag-link-23 tag-link-position-8' title='1 topic' style='font-size: 8pt;'>Ubuntu</a>
<a href='/tag/vnc/' class='tag-link-22 tag-link-position-9' title='1 topic' style='font-size: 8pt;'>vnc</a></div>
</div></aside>	
	</div><!-- /.row --> 
  
</div><!-- /.container --> 
</div><!-- /.light-wrapper --><footer class="footer black-wrapper widget-footer">

		
	<div class="sub-footer">
	    <div class="container">
	    
			<div class="pull-left">
							</div>
			
			
<ul class="social pull-right">
  <li>
  			          <a href="https://www.linkedin.com/in/shanavaskv" target="_blank">
  					      <i class="icon-s-linkedin"></i>
  				      </a>
  				  </li><li>
  			          <a href="https://www.github.com/shanavaskv" target="_blank">
  					      <i class="icon-s-github"></i>
  				      </a>
  				  </li><li>
  			          <a href="https://www.facebook.com/shanavas.kv" target="_blank">
  					      <i class="icon-s-facebook"></i>
  				      </a>
  				  </li></ul>	    
	    </div>
	</div>

</footer><!-- /footer --> 

</div><!-- .body-wrapper --> 

	<div style="display:none">
	<div class="grofile-hash-map-2b9adba2a3f632d68e06e0b4fba24d6d">
	</div>
	</div>

	<script type="text/javascript">window.WPCOM_sharing_counts={"\/remote-desktop-with-vnc\/":329};</script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/photon/photon.js?ver=20130122'></script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>//<![CDATA[
var _wpcf7={"loaderUrl":"\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"sending":"Sending ..."};
//]]></script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.5.1'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201646'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2016Novaa'></script>
<script type='text/javascript'>//<![CDATA[
var WPGroHo={"my_hash":""};
//]]></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.6.1'></script>
<script type='text/javascript' src='http://maps.googleapis.com/maps/api/js?sensor=false&#038;v=3.exp&#038;ver=4.6.1'></script>
<script type='text/javascript' src='/wp-content/themes/frost/style/js/bootstrap.min.js?ver=4.6.1'></script>
<script type='text/javascript' src='/wp-content/themes/frost/style/js/plugins.js?ver=4.6.1'></script>
<script type='text/javascript'>//<![CDATA[
var script_data={"ajax_back_text":"Back","ajax_prev_text":"Prev","ajax_next_text":"Next"};
//]]></script>
<script type='text/javascript' src='/wp-content/themes/frost/style/js/scripts.js?ver=4.6.1'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=4.6.1'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.6.1'></script>
<script type='text/javascript'>//<![CDATA[
var sharing_js_options={"lang":"en","counts":"1"};
//]]></script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/sharedaddy/sharing.js?ver=4.3.2'></script>
<script type='text/javascript'>var windowOpen;jQuery(document.body).on('click','a.share-twitter',function(){if('undefined'!==typeof windowOpen){windowOpen.close();}
windowOpen=window.open(jQuery(this).attr('href'),'wpcomtwitter','menubar=1,resizable=1,width=600,height=350');return false;});var windowOpen;jQuery(document.body).on('click','a.share-facebook',function(){if('undefined'!==typeof windowOpen){windowOpen.close();}
windowOpen=window.open(jQuery(this).attr('href'),'wpcomfacebook','menubar=1,resizable=1,width=600,height=400');return false;});var windowOpen;jQuery(document.body).on('click','a.share-google-plus-1',function(){if('undefined'!==typeof windowOpen){windowOpen.close();}
windowOpen=window.open(jQuery(this).attr('href'),'wpcomgoogle-plus-1','menubar=1,resizable=1,width=480,height=550');return false;});</script>
  <div id="bitnami-banner" data-banner-id="6528b">  <style>#bitnami-banner{z-index:100000;height:80px;padding:0px;width:120px;background:transparent;position:fixed;right:0px;bottom:0px;border:0px solid #ededed}#bitnami-banner .bitnami-corner-image-div{position:fixed;right:0px;bottom:0px;border:0px;z-index:100001;height:110px}#bitnami-banner .bitnami-corner-image-div .bitnami-corner-image{position:fixed;right:0px;bottom:0px;border:0px;z-index:100001;height:110px}#bitnami-close-banner-button{height:12px;width:12px;z-index:10000000000;position:fixed;right:5px;bottom:65px;display:none;cursor:pointer}</style>  <img id="bitnami-close-banner-button" src="/bitnami/images/xclose.png.pagespeed.ic.Zei43eohAv.png"/>  <div class="bitnami-corner-image-div">     <a href="/bitnami/index.html" target="_blank">       <img class="bitnami-corner-image" alt="Bitnami" src="/bitnami/images/xcorner-logo.png.pagespeed.ic.6TukXqDtLV.png"/>     </a>  </div>  <script type="text/javascript">//<![CDATA[
(function(){var banner=document.getElementById("bitnami-banner");var closeButton=document.getElementById("bitnami-close-banner-button");var toggleCloseButton=function toggleCloseButton(open){if(closeButton){if(open&&banner&&banner.style.display!="none"){closeButton.style.display="block";}else{closeButton.style.display="none";}}
return false;};var setCookie=function setCookie(cname,cvalue,exdays){var d=new Date();d.setTime(d.getTime()+(exdays*24*60*60*1000));var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires;};var closeBanner=function closeBanner(open){if(banner){var suffix=banner.getAttribute('data-banner-id')||'global';banner.style.display="none";setCookie('_bitnami_closed_banner_'+suffix,"1",30);}
return false;};banner.onmouseover=function(){return toggleCloseButton(1);};banner.onmouseout=function(){return toggleCloseButton(0);};closeButton.onclick=closeBanner;}());
//]]></script> </div>   </body>
</html>